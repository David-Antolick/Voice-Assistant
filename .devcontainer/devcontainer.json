{
  "name": "Python 3",
  "image": "mcr.microsoft.com/devcontainers/python:1-3.12-bullseye",
  "features": {
    "ghcr.io/devcontainers/features/common-utils:2": {},
    "ghcr.io/devcontainers/features/git:1": {},
    "ghcr.io/devcontainers/features/nvidia-cuda:1": {}
  },
  "runArgs": ["--gpus", "all"],
  "containerEnv": {
    "TORCH_CPP_LOG_LEVEL": "ERROR"
  },
  "postCreateCommand": "sudo apt-get update && sudo apt-get install -y libportaudio2 portaudio19-dev && sudo rm -rf /var/lib/apt/lists/* && pip uninstall -y nvidia-cudnn-cu12 || true && pip cache purge && sudo pip install --no-cache-dir nvidia-cudnn-cu12==9.5.1.17 && echo '/usr/local/lib/python3.12/site-packages/nvidia/cudnn/lib' | sudo tee /etc/ld.so.conf.d/nvidia-cudnn.conf >/dev/null && sudo ldconfig && pip install -r requirements.txt"
}
